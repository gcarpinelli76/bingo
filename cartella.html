<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La tua Cartella</title>
    <style>
        body { font-family: sans-serif; background-color: #1e3a3a; color: white; text-align: center; padding: 10px; margin: 0; }
        h1 { font-size: 8vw; margin: 20px 0; color: #f1c40f; }
        .cartella { 
            display: grid; 
            grid-template-columns: repeat(9, 1fr); 
            gap: 5px; 
            background: #000; 
            border: 5px solid #000; 
            margin: 0 auto; 
            width: 96vw;
        }
        .cella { 
            aspect-ratio: 1/1; 
            background: #fff; 
            color: #000; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: bold; 
            font-size: 8vw; 
            border-radius: 5px;
        }
        .vuota { background: #263238; }
    </style>
</head>
<body>
    <h1 id="titolo">CARTELLA</h1>
    <div id="griglia" class="cartella"></div>
    <script>
        const params = new URLSearchParams(window.location.search);
        const id = params.get('id');
        const dataParam = params.get('data');
        if (dataParam) {
            const dati = JSON.parse(decodeURIComponent(dataParam));
            document.getElementById('titolo').innerText = "CARTELLA N. " + id;
            const griglia = document.getElementById('griglia');
            for (let r = 0; r < 3; r++) {
                for (let c = 0; c < 9; c++) {
                    const div = document.createElement('div');
                    div.className = 'cella';
                    if (dati[r][c] === null) div.classList.add('vuota');
                    else div.innerText = dati[r][c];
                    griglia.appendChild(div);
                }
            }
        } else {
            document.body.innerHTML = "<h1>Cartella non trovata</h1>";
        }
    </script>
</body>
</html>
